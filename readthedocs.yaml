version: 2

build:
  os: ubuntu-22.04
  tools:
    python: "3.8"
  jobs:
    post_create_environment:
      - python -m pip install sphinx_rtd_theme
      - Xvfb :99 -screen 0 1024x768x24 &       # Start Xvfb
      - export DISPLAY=:99                     # Set the DISPLAY environment variable
      - sphinx-build -b html docs/build/html      # Build the documentation using Sphinx
  apt_packages:
    - xvfb  # Install Xvfb on the ReadTheDocs build environment

sphinx:
  configuration: docs/source/conf.py

formats:
   - pdf
   - epub

python:
   install:
     - method: pip
       path: .
     - requirements: docs/requirements.txt
     - requirements: requirements.txt
